<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Flap bird</title>
  </head>
  <body style="margin: 0; height: 100%; overflow: hidden">
    <img id="sky" style="position:absolute;width:100%;height:99%;z-index:-1" src="data:image/jpeg;base64,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">
    <img id="bird" style="background-color: rebeccapurple;bottom: 50%;left: 50px; position: absolute;" src="flap.png">
    <div id="death" style="position:absolute; color:red;font-size: 100px; left:50%;top:50%;opacity:0%;">You died!</div>
    <div id="display" style="height:100%;width:100%;left:0px;top:0px;position:absolute;z-index:-1;"></div>
    <p id="data"></p>
    <script>
        document.getElementById("sky").style.width = (window.innerWidth+500) + "px";
        let pipeheights = [];
        let tick = 0;
        let skill = 1;
        let ntick = 0;
        let xtick = 0;
        let index = 0;
        let lindex = 0;
        let pipes = 0;
        let running = false;
        let bird = {
        radius: 20,
        position: {
          y: Math.round(window.innerHeight/2),
          speed:0,
          flap: function(){
            if(running == true){
            for(let i=0;i<10;i++){
                this.speed += 2;
            }}
          }
        },
      };
      let pipesinframe = Math.floor(window.innerWidth/250)
      document.addEventListener("keydown",function(){
        if(event.which == 32){
            bird.position.flap()
        }else if(event.which == 77){
          setInterval(autoplay,16)
        }
        if(running == false){
        setInterval(gamer,25)
      setInterval(kolison,10)
      setInterval(renderpipes,10)
      setInterval(die);
      running = true;
      drawpipes(pipesinframe*100);
        }
    })
    for(let i = 6; i>0; i--){
      pipes++
      pipeheights.push(RandZ(bird.radius*4,window.innerHeight-bird.radius*7));
    }
    function drawpipes (gorp){
      for(let g = gorp;g>0;g--){
        pipeheights.push(RandZ(bird.radius*4,window.innerHeight-bird.radius*7))
      }
    }
    function autoplay(){
      let a = Number(document.getElementById("1").style.height.split("p",1))
      if(bird.position.y < (a+12)){
        bird.position.speed = 10
        setTimeout(undefined,1);
      }
    }
      function gamer() {
        skill = (1+(index/50));
        tick++
        xtick++
        ntick+=skill
        bird.position.y += bird.position.speed
        if(bird.position.speed >= -10){
            bird.position.speed--
        }
        let bord = document.getElementById("bird")
        document.getElementById("sky").style.right = (xtick/1.5)-500+ "px";
        if(xtick>500){
          xtick = 0 ;
        }
        bord.style.transform = 'rotate(' + bird.position.speed + 'deg)';
        bord.style.bottom = bird.position.y +"px";
        bord.innerHTML = bird.position.y
      }
      function kolison(){
         if(bird.position.y>window.innerHeight-bird.radius){
              bird.position.y = window.innerHeight - bird.radius;
               bird.position.speed = 0;
         }else if(bird.position.y<bird.radius){
             bird.position.y = bird.radius
             bird.position.speed = 0;
           die(1);
         }
      }
      function die(imed){
        if(bird.position.y < document.getElementById("1").style.height.split("p",1) || bird.position.y > window.innerHeight-document.getElementById("11").style.height.split("p",1) || imed == 1){
          if(ntick>200 || imed==1){
            if(running == true){
              running = false;
            alert("score:"+index)
            window.location.reload();
      }}}}
      document.getElementById("bird").style.height = bird.radius*2 + "px";
      function RandZ(low,high){
        return (Math.floor(Math.random() * (high - low)) +low)
      }
      function renderpipes(){
        document.getElementById("display").innerHTML = "";
        for(let i = pipesinframe; i>0; i--){
          document.getElementById("display").innerHTML += "<div class='pipebt' style='border-top:5px solid darkgreen;border-radius:5px;z-index:11;bottom:0px;width:100px;background-color:green;position:absolute;' id="+i+"></div>"
          document.getElementById("display").innerHTML += "<div class='pipetp' style='border-bottom: 5px solid darkgreen;border-radius:5px;z-index:11;top:0px;width:100px;background-color:green;position:absolute;' id="+(i+10)+"></div>"
          document.getElementById(i+10).style.height = (window.innerHeight-pipeheights[i+index]-bird.radius*6) + "px";
          document.getElementById(i+10).style.left = (window.innerWidth/pipesinframe*i - ntick ) + "px";
          document.getElementById(i).style.height = pipeheights[i+index] + "px";
          document.getElementById(i).style.left = (window.innerWidth/pipesinframe*i - ntick ) + "px";
          if((window.innerWidth/pipesinframe*i - ntick )<0){
            document.getElementById(i).remove();index++;lindex++;ntick=0;
          } 
        }
        document.getElementById("1").textContent = "score: "+index;
      }   
    </script>
        <form action="games.html">
          <button style="color:white;background-color: crimson;border-radius: 5px;border-width: 3px;position:fixed;bottom:0px;right:0px;">Return to homepage</button>
        </form>
  </body>
</html>